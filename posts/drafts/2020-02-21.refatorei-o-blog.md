---
path: /post/refatorei-o-blog/

title: Refatorei o blog
subtitle: Um pouco sobre o processo de recriação e como o desenvolvimento foi conduzido para deixar o blog e o site de cara nova
date: 2020-02-21
tags:
  - dev

banner:
  author: 贝莉儿 DANIST
  href: https://unsplash.com/photos/8Gg2Ne_uTcM
  image: ./images/2020-02-21.refatorei-o-blog/banner.jpg
---

Eu sei, esse post vai ser um pouco mais longo. A ideia dele é explicar como foi meu processo de raciocínio e reconstrução do meu site e blog e quais tecnologias e decisões eu escolhi.

## Isso aqui era tudo mato

Meu blog anterior era feito com <a href="https://hexo.io/" target="_blan">Hexo</a> e atendeu perfeitamente às minhas necessidades nos últimos anos.

Eu sei, não sou o tipo que faz posts regulares (mas estou tentando, juro!), então, para um *"blog fantasma"* (como eu mesmo costumo chamar, rs) ele fazia o papel que precisava.

Entretanto, como venho trabalhando ativamente com <a href="https://reactjs.org/" target="_blank">React</a> nos últimos anos, algumas coisas não estavam mais tão fluidas como deveriam:

- Componentização: embora você possa aplicar boas práticas e componentizar seus blocos utilizando EJS (engine suportada pelo Hexo por padrão), a forma de escrever seus componentes é distante da forma como é feita no ecossistema do React;
- Interface: a antiga versão do meu site/blog tinha um esquema de cores e uma tratativa sobre interfaces totalmente diferente. Eu queria algo que estivesse mais alinhado com a forma que eu desenvolvo hoje, e não como o fazia há anos atrás, a interface já não me agradava mais;
- Tooling: minhas rotinas de build estavam obsoletas, não é um problema que estava relacionado com as tecnologias ou com o Hexo em si, mas não achei que faria sentido arrumar configurações em um projeto que eu já estava decidido a refazer.

## "Arquitetura" (podemos chamar assim?)

A "arquitetura" manteve-se a mesma.

Tudo o que vocês enxergam no meu <a href="https://gabrieluizramos.com.br" target="_blank">site</a> ou no meu <a href="https://gabrieluizramos.com.br/blog" target="_blank">blog</a> é estático e mantido, basicamente, em 2 repositórios separados e privados no me <a href="https://github.com/gabrieluizramos" target="_blank">github</a> e eu estou bem contente com essa divisão.

Meu site é bem simples (praticamente um *"hub"* com vários links) e mudo muito menos constantemente que meu blog. Não queria deixar os dois projetos relacionados e envolver deploy/build dos dois. Então a escolha foi manter os dois como estavam e reaproveitar apenas seu conteúdo.

Minha ideia era aproveitar melhor os pacotes e configurações em comum (título, rodapé, configurações de build, definição de cores e variáveis) mas sem que os projetos estivessem juntos. Com isso, apenas mais um repositório foi criado, para dar sentido às *preferencias* de ambos os projetos.

**Inclusive vale a dica**: você sabia que você pode instalar um pacote <a href="http://npmjs.org/" target="_blank">NPM</a> tendo como fonte um repositório do github? É isso mesmo! Você não precisa ficar se preocupando em publicar um pacote o tempo inteiro com `npm publish` e ficar ajustando a versão no seu `package.json`. No meu caso, facilitou bastante o desenvolvimento e era exatamente o que eu precisava. Então segui essa abordagem.

Se quiser ler um pouquinho mais sobre, dá uma olhada <a href="https://medium.com/@jonchurch/use-github-branch-as-dependency-in-package-json-5eb609c81f1a" target="_blank">nesse artigo do Jon Church no Medium</a> (em inglês).

Por fim, existem estruturalmente 3 repositórios:
- gabrieluizramos.github.io: com meu site;
- blog: com o conteúdo do meu blog;
- preferences: com essas definições, componentes, variáveis e configurações que são comum aos dois projetos acima.

## Tecnologias

Eu praticamente já estava decidido a utilizar <a href="https://www.gatsbyjs.org/" target="_blank">Gatsby</a>, pelos seguintes motivos:

- Manter facilmente minha fonte de dados atual: arquivos markdown com os conteúdos que escrevi;
- Manter a abordagem estática: não preciso e não quero me preocupar com infraestrutura, prefiro que o Github resolva isso pra mim;
- Utilizar React: coisa que já acostumei nos últimos anos;
- Performance: coisa que o time e a plataforma do Gatsby preza muito, é realmente fácil ter um site simples performático sem praticamente dor de cabeça alguma;
- Fácil configuração: é outro ponto forte do Gatsby, qualquer ajuste e configuração é muito fácil de ser realizado, basta modificar um arquivo e/ou inserir algum plugin (que, muito provavelmente, já vai existir) e tudo funciona como mágica;
- Aproveitar para aprender alguma coisa nova, né non?!

---

Pausa pros Ads:

Meu amigo <a href="https://willianjusten.com.br/" target="_blank">Willian Justen</a> montou um <a href="https://willianjusten.com.br/novo-curso-gatsby-crie-um-site-pwa-com-react-graphql-netlify-cms/" target="_blank">curso completo</a> ensinando como utilizar o Gatsby bem detalhadamente (que, inclusive, me ajudou muito ao longo do processo de refatoração). Se quiser saber um pouco mais sobre a experiência dele com a ferramenta e como fez a mudança do seu próprio blog, pode dar uma olhada no <a href="https://willianjusten.com.br/making-of-blog-novo/" target="_blank">post</a> que ele fez explicando sobre o assunto.

---

## Redefinindo a interface

Admito que foi a parte mais complicada de todo o processo.

Como eu comentei anteriormente, meu blog antigo já não me agradava mais.
